{% extends 'base.html' %}

{% block title %}Home - Real Estate Consultancy{% endblock %}

{% block content %}

<section id="gallery">
    <h2>New listing</h2>
    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            {% for property in properties %}
            <div class="swiper-slide">
                <a href="{{ url_for('property_detail', property_id=loop.index0) }}">
                    <img src="{{ property.image }}" alt="{{ property.title }}">
                    <h3>{{ property.title }}</h3>
                </a>
            </div>
            {% endfor %}
        </div>
        <!-- Navigation buttons -->
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
</section>


<section id="contact">
    <h2>Contact Us</h2>
    <form action="{{ url_for('submit') }}" method="POST">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="phone" placeholder="Phone">
        <textarea name="message" placeholder="Message"></textarea>
        <button type="submit">Submit</button>
    </form>
</section>
<section id="map">
    <h2>Our Location</h2>
    <div style="width: 100%; height: 450px; margin: 20px 0;">
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3806.317676926!2d83.21848151534987!3d17.68681589791848!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a39431b02c8a9cf%3A0xb5b3a454b2ef5c0c!2sVisakhapatnam%2C%20Andhra%20Pradesh!5e0!3m2!1sen!2sin!4v1699999999999!5m2!1sen!2sin" 
            width="100%" 
            height="100%" 
            style="border:0; border-radius: 10px;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>
</section>


{% endblock %}

{% block scripts %}
<script>
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 3,
        spaceBetween: 20,
        loop: true,
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        autoplay: {
            delay: 3000,
        },
        breakpoints: {
            768: { slidesPerView: 2 },
            480: { slidesPerView: 1 },
        },
    });
</script>
{% endblock %}